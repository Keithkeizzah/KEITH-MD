{"version":3,"file":"index.js","sources":["../../src/utils/typeOf.js","../../src/utils/isEmpty.js","../../src/utils/isCharInRange.js","../../src/constants.ts","../../src/utils/isCharJapanese.js","../../src/isJapanese.js","../../node_modules/memoize-one/dist/memoize-one.esm.js","../../node_modules/dequal/dist/index.mjs","../../src/utils/mergeWithDefaultOptions.js","../../src/utils/kanaMapping.js","../../src/utils/romajiToKanaMap.js","../../src/utils/isCharUpperCase.js","../../src/utils/isCharLongDash.js","../../src/utils/isCharSlashDot.js","../../src/utils/isCharHiragana.js","../../src/utils/hiraganaToKatakana.js","../../src/toKana.js","../../src/utils/dom.js","../../src/utils/logInputEvents.js","../../src/bind.js","../../src/unbind.js","../../src/utils/isCharRomaji.js","../../src/isRomaji.js","../../src/utils/isCharKatakana.js","../../src/utils/isCharKana.js","../../src/isKana.js","../../src/isHiragana.js","../../src/isKatakana.js","../../src/utils/isCharIterationMark.js","../../src/utils/isCharKanji.js","../../src/isKanji.js","../../src/isMixed.js","../../src/utils/katakanaToHiragana.js","../../src/utils/kanaToRomajiMap.js","../../src/toRomaji.js","../../src/utils/isCharEnglishPunctuation.js","../../src/toHiragana.js","../../src/toKatakana.js","../../src/utils/isCharJapanesePunctuation.js","../../src/tokenize.js","../../src/stripOkurigana.js"],"sourcesContent":["/**\n * Returns detailed type as string (instead of just 'object' for arrays etc)\n * @private\n * @param {any} value js value\n * @returns {String} type of value\n * @example\n * typeOf({}); // 'object'\n * typeOf([]); // 'array'\n * typeOf(function() {}); // 'function'\n * typeOf(/a/); // 'regexp'\n * typeOf(new Date()); // 'date'\n * typeOf(null); // 'null'\n * typeOf(undefined); // 'undefined'\n * typeOf('a'); // 'string'\n * typeOf(1); // 'number'\n * typeOf(true); // 'boolean'\n * typeOf(new Map()); // 'map'\n * typeOf(new Set()); // 'map'\n */\nfunction typeOf(value) {\n  if (value === null) {\n    return 'null';\n  }\n  if (value !== Object(value)) {\n    return typeof value;\n  }\n  return {}.toString\n    .call(value)\n    .slice(8, -1)\n    .toLowerCase();\n}\n\nexport default typeOf;\n","import typeOf from './typeOf';\n/**\n * Checks if input string is empty\n * @param  {String} input text input\n * @return {Boolean} true if no input\n */\nfunction isEmpty(input) {\n  if (typeOf(input) !== 'string') {\n    return true;\n  }\n  return !input.length;\n}\n\nexport default isEmpty;\n","import isEmpty from './isEmpty';\n\n/**\n * Takes a character and a unicode range. Returns true if the char is in the range.\n * @param  {String}  char  unicode character\n * @param  {Number}  start unicode start range\n * @param  {Number}  end   unicode end range\n * @return {Boolean}\n */\nfunction isCharInRange(char = '', start, end) {\n  if (isEmpty(char)) return false;\n  const code = char.charCodeAt(0);\n  return start <= code && code <= end;\n}\n\nexport default isCharInRange;\n","export const VERSION = '5.3.1';\n\nexport const TO_KANA_METHODS: {\n  HIRAGANA: 'toHiragana',\n  KATAKANA: 'toKatakana',\n} = {\n  HIRAGANA: 'toHiragana',\n  KATAKANA: 'toKatakana',\n};\n\nexport const ROMANIZATIONS: { HEPBURN: 'hepburn' } = {\n  HEPBURN: 'hepburn',\n};\n\nexport type DefaultOptions = {\n  useObsoleteKana?: boolean,\n  passRomaji?: boolean,\n  convertLongVowelMark?: boolean,\n  upcaseKatakana?: boolean,\n  IMEMode?: boolean | 'toHiragana' | 'toKatakana',\n  romanization?: 'hepburn',\n  customKanaMapping?: { [index: string]: string }\n  customRomajiMapping?: { [index: string]: string }\n};\n\n/**\n * Default config for WanaKana, user passed options will be merged with these\n * @type {DefaultOptions}\n * @name DefaultOptions\n * @property {Boolean} [useObsoleteKana=false] - Set to true to use obsolete characters, such as „Çê and „Çë.\n * @example\n * toHiragana('we', { useObsoleteKana: true })\n * // => '„Çë'\n * @property {Boolean} [passRomaji=false] - Set to true to pass romaji when using mixed syllabaries with toKatakana() or toHiragana()\n * @example\n * toHiragana('only convert the katakana: „Éí„É©„Ç¨„Éä', { passRomaji: true })\n * // => \"only convert the katakana: „Å≤„Çâ„Åå„Å™\"\n * @property {Boolean} [convertLongVowelMark=true] - Set to false to prevent conversions of '„Éº' to extended vowels with toHiragana()\n * @example\n * toHiragana('„É©„Éº„É°„É≥', { convertLongVowelMark: false });\n * // => '„Çâ„Éº„ÇÅ„Çì\n * @property {Boolean} [upcaseKatakana=false] - Set to true to convert katakana to uppercase using toRomaji()\n * @example\n * toRomaji('„Å≤„Çâ„Åå„Å™ „Ç´„Çø„Ç´„Éä', { upcaseKatakana: true })\n * // => \"hiragana KATAKANA\"\n * @property {Boolean | 'toHiragana' | 'toKatakana'} [IMEMode=false] - Set to true, 'toHiragana', or 'toKatakana' to handle conversion while it is being typed.\n * @property {'hepburn'} [romanization='hepburn'] - choose toRomaji() romanization map (currently only 'hepburn')\n * @property {Object.<String, String>} [customKanaMapping] - custom map will be merged with default conversion\n * @example\n * toKana('wanakana', { customKanaMapping: { na: '„Å´', ka: 'Bana' }) };\n * // => '„Çè„Å´Bana„Å´'\n * @property {Object.<String, String>} [customRomajiMapping] - custom map will be merged with default conversion\n * @example\n * toRomaji('„Å§„Åò„Åé„Çä', { customRomajiMapping: { „Åò: 'zi', „Å§: 'tu', „Çä: 'li' }) };\n * // => 'tuzigili'\n */\nexport const DEFAULT_OPTIONS: DefaultOptions = {\n  useObsoleteKana: false,\n  passRomaji: false,\n  convertLongVowelMark: true,\n  upcaseKatakana: false,\n  IMEMode: false,\n  romanization: ROMANIZATIONS.HEPBURN,\n};\n\n// CharCode References\n// http://www.rikai.com/library/kanjitables/kanji_codes.unicode.shtml\n// http://unicode-table.com\n\nexport const LATIN_LOWERCASE_START = 0x61;\nexport const LATIN_LOWERCASE_END = 0x7a;\nexport const LATIN_UPPERCASE_START = 0x41;\nexport const LATIN_UPPERCASE_END = 0x5a;\nexport const LOWERCASE_ZENKAKU_START = 0xff41;\nexport const LOWERCASE_ZENKAKU_END = 0xff5a;\nexport const UPPERCASE_ZENKAKU_START = 0xff21;\nexport const UPPERCASE_ZENKAKU_END = 0xff3a;\nexport const HIRAGANA_START = 0x3041;\nexport const HIRAGANA_END = 0x3096;\nexport const KATAKANA_START = 0x30a1;\nexport const KATAKANA_END = 0x30fc;\nexport const KANJI_START = 0x4e00;\nexport const KANJI_END = 0x9faf;\n\nexport const KANJI_ITERATION_MARK = 0x3005; // „ÄÖ\nexport const PROLONGED_SOUND_MARK = 0x30fc; // „Éº\nexport const KANA_SLASH_DOT = 0x30fb; // „Éª\n\nconst ZENKAKU_NUMBERS = [0xff10, 0xff19];\nconst ZENKAKU_UPPERCASE = [UPPERCASE_ZENKAKU_START, UPPERCASE_ZENKAKU_END];\nconst ZENKAKU_LOWERCASE = [LOWERCASE_ZENKAKU_START, LOWERCASE_ZENKAKU_END];\nconst ZENKAKU_PUNCTUATION_1 = [0xff01, 0xff0f];\nconst ZENKAKU_PUNCTUATION_2 = [0xff1a, 0xff1f];\nconst ZENKAKU_PUNCTUATION_3 = [0xff3b, 0xff3f];\nconst ZENKAKU_PUNCTUATION_4 = [0xff5b, 0xff60];\nconst ZENKAKU_SYMBOLS_CURRENCY = [0xffe0, 0xffee];\n\nconst HIRAGANA_CHARS = [0x3040, 0x309f];\nconst KATAKANA_CHARS = [0x30a0, 0x30ff];\nconst HANKAKU_KATAKANA = [0xff66, 0xff9f];\nconst KATAKANA_PUNCTUATION = [0x30fb, 0x30fc];\nconst KANA_PUNCTUATION = [0xff61, 0xff65];\nconst CJK_SYMBOLS_PUNCTUATION = [0x3000, 0x303f];\nconst COMMON_CJK = [0x4e00, 0x9fff];\nconst RARE_CJK = [0x3400, 0x4dbf];\n\nexport const KANA_RANGES = [\n  HIRAGANA_CHARS,\n  KATAKANA_CHARS,\n  KANA_PUNCTUATION,\n  HANKAKU_KATAKANA,\n];\n\nexport const JA_PUNCTUATION_RANGES = [\n  CJK_SYMBOLS_PUNCTUATION,\n  KANA_PUNCTUATION,\n  KATAKANA_PUNCTUATION,\n  ZENKAKU_PUNCTUATION_1,\n  ZENKAKU_PUNCTUATION_2,\n  ZENKAKU_PUNCTUATION_3,\n  ZENKAKU_PUNCTUATION_4,\n  ZENKAKU_SYMBOLS_CURRENCY,\n];\n\n// All Japanese unicode start and end ranges\n// Includes kanji, kana, zenkaku latin chars, punctuation, and number ranges.\nexport const JAPANESE_RANGES = [\n  ...KANA_RANGES,\n  ...JA_PUNCTUATION_RANGES,\n  ZENKAKU_UPPERCASE,\n  ZENKAKU_LOWERCASE,\n  ZENKAKU_NUMBERS,\n  COMMON_CJK,\n  RARE_CJK,\n];\n\nconst MODERN_ENGLISH = [0x0000, 0x007f];\nconst HEPBURN_MACRON_RANGES = [\n  [0x0100, 0x0101], // ƒÄ ƒÅ\n  [0x0112, 0x0113], // ƒí ƒì\n  [0x012a, 0x012b], // ƒ™ ƒ´\n  [0x014c, 0x014d], // ≈å ≈ç\n  [0x016a, 0x016b], // ≈™ ≈´\n];\nconst SMART_QUOTE_RANGES = [\n  [0x2018, 0x2019], // ‚Äò ‚Äô\n  [0x201c, 0x201d], // ‚Äú ‚Äù\n];\n\nexport const ROMAJI_RANGES = [MODERN_ENGLISH, ...HEPBURN_MACRON_RANGES];\n\nexport const EN_PUNCTUATION_RANGES = [\n  [0x20, 0x2f],\n  [0x3a, 0x3f],\n  [0x5b, 0x60],\n  [0x7b, 0x7e],\n  ...SMART_QUOTE_RANGES,\n];\n","import isCharInRange from './isCharInRange';\nimport { JAPANESE_RANGES } from '../constants.ts';\n\n/**\n * Tests a character. Returns true if the character is [Katakana](https://en.wikipedia.org/wiki/Katakana).\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharJapanese(char = '') {\n  return JAPANESE_RANGES.some(([start, end]) => isCharInRange(char, start, end));\n}\n\nexport default isCharJapanese;\n","import typeOf from './utils/typeOf';\nimport isEmpty from './utils/isEmpty';\nimport isCharJapanese from './utils/isCharJapanese';\n\n/**\n * Test if `input` only includes [Kanji](https://en.wikipedia.org/wiki/Kanji), [Kana](https://en.wikipedia.org/wiki/Kana), zenkaku numbers, and JA punctuation/symbols.‚Äù\n * @param  {String} [input=''] text\n * @param  {RegExp} [allowed] additional test allowed to pass for each char\n * @return {Boolean} true if passes checks\n * @example\n * isJapanese('Ê≥£„ÅçËô´')\n * // => true\n * isJapanese('„ÅÇ„Ç¢')\n * // => true\n * isJapanese('ÔºíÊúà') // Zenkaku numbers allowed\n * // => true\n * isJapanese('Ê≥£„ÅçËô´„ÄÇÔºÅ„ÄúÔºÑ') // Zenkaku/JA punctuation\n * // => true\n * isJapanese('Ê≥£„ÅçËô´.!~$') // Latin punctuation fails\n * // => false\n * isJapanese('AÊ≥£„ÅçËô´')\n * // => false\n * isJapanese('‚â™ÂÅΩÊã¨Âºß‚â´', /[‚â™‚â´]/);\n * // => true\n */\nfunction isJapanese(input = '', allowed) {\n  const augmented = typeOf(allowed) === 'regexp';\n  return isEmpty(input)\n    ? false\n    : [...input].every((char) => {\n      const isJa = isCharJapanese(char);\n      return !augmented ? isJa : isJa || allowed.test(char);\n    });\n}\n\nexport default isJapanese;\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { DEFAULT_OPTIONS } from '../constants.ts';\n/**\n * Easy re-use of merging with default options\n * @param {Object} opts user options\n * @returns user options merged over default options\n */\nconst mergeWithDefaultOptions = (opts = {}) => Object.assign({}, DEFAULT_OPTIONS, opts);\n\nexport default mergeWithDefaultOptions;\n","import typeOf from './typeOf';\n\nexport function applyMapping(string, mapping, convertEnding) {\n  const root = mapping;\n\n  function nextSubtree(tree, nextChar) {\n    const subtree = tree[nextChar];\n    if (subtree === undefined) {\n      return undefined;\n    }\n    // if the next child node does not have a node value, set its node value to the input\n    return Object.assign({ '': tree[''] + nextChar }, tree[nextChar]);\n  }\n\n  function newChunk(remaining, currentCursor) {\n    // start parsing a new chunk\n    const firstChar = remaining.charAt(0);\n\n    return parse(\n      Object.assign({ '': firstChar }, root[firstChar]),\n      remaining.slice(1),\n      currentCursor,\n      currentCursor + 1\n    );\n  }\n\n  function parse(tree, remaining, lastCursor, currentCursor) {\n    if (!remaining) {\n      if (convertEnding || Object.keys(tree).length === 1) {\n        // nothing more to consume, just commit the last chunk and return it\n        // so as to not have an empty element at the end of the result\n        return tree[''] ? [[lastCursor, currentCursor, tree['']]] : [];\n      }\n      // if we don't want to convert the ending, because there are still possible continuations\n      // return null as the final node value\n      return [[lastCursor, currentCursor, null]];\n    }\n\n    if (Object.keys(tree).length === 1) {\n      return [[lastCursor, currentCursor, tree['']]].concat(\n        newChunk(remaining, currentCursor)\n      );\n    }\n\n    const subtree = nextSubtree(tree, remaining.charAt(0));\n\n    if (subtree === undefined) {\n      return [[lastCursor, currentCursor, tree['']]].concat(\n        newChunk(remaining, currentCursor)\n      );\n    }\n    // continue current branch\n    return parse(subtree, remaining.slice(1), lastCursor, currentCursor + 1);\n  }\n\n  return newChunk(string, 0);\n}\n\n// transform the tree, so that for example hepburnTree['„Çî']['„ÅÅ'][''] === 'va'\n// or kanaTree['k']['y']['a'][''] === '„Åç„ÇÉ'\nexport function transform(tree) {\n  return Object.entries(tree).reduce((map, [char, subtree]) => {\n    const endOfBranch = typeOf(subtree) === 'string';\n    // eslint-disable-next-line no-param-reassign\n    map[char] = endOfBranch ? { '': subtree } : transform(subtree);\n    return map;\n  }, {});\n}\n\nexport function getSubTreeOf(tree, string) {\n  return string.split('').reduce((correctSubTree, char) => {\n    if (correctSubTree[char] === undefined) {\n      // eslint-disable-next-line no-param-reassign\n      correctSubTree[char] = {};\n    }\n    return correctSubTree[char];\n  }, tree);\n}\n\n/**\n * Creates a custom mapping tree, returns a function that accepts a defaultMap which the newly created customMapping will be merged with and returned\n * (customMap) => (defaultMap) => mergedMap\n * @param  {Object} customMap { 'ka' : '„Å™' }\n * @return {Function} (defaultMap) => defaultMergedWithCustomMap\n * @example\n * const sillyMap = createCustomMapping({ '„Å°„ÇÉ': 'time', 'Ëåé': 'cookie'„ÄÄ});\n * // sillyMap is passed defaultMapping to merge with when called in toRomaji()\n * toRomaji(\"It's Ëåé „Å°„ÇÉ „Çà\", { customRomajiMapping: sillyMap });\n * // => 'It's cookie time yo';\n */\nexport function createCustomMapping(customMap = {}) {\n  const customTree = {};\n\n  if (typeOf(customMap) === 'object') {\n    Object.entries(customMap).forEach(([roma, kana]) => {\n      let subTree = customTree;\n      roma.split('').forEach((char) => {\n        if (subTree[char] === undefined) {\n          subTree[char] = {};\n        }\n        subTree = subTree[char];\n      });\n      subTree[''] = kana;\n    });\n  }\n\n  return function makeMap(map) {\n    const mapCopy = JSON.parse(JSON.stringify(map));\n\n    function transformMap(mapSubtree, customSubtree) {\n      if (mapSubtree === undefined || typeOf(mapSubtree) === 'string') {\n        return customSubtree;\n      }\n      return Object.entries(customSubtree).reduce(\n        (newSubtree, [char, subtree]) => {\n          // eslint-disable-next-line no-param-reassign\n          newSubtree[char] = transformMap(mapSubtree[char], subtree);\n          return newSubtree;\n        },\n        mapSubtree\n      );\n    }\n\n    return transformMap(mapCopy, customTree);\n  };\n}\n\n// allow consumer to pass either function or object as customMapping\nexport function mergeCustomMapping(map, customMapping) {\n  if (!customMapping) {\n    return map;\n  }\n  return typeOf(customMapping) === 'function'\n    ? customMapping(map)\n    : createCustomMapping(customMapping)(map);\n}\n","import { transform, getSubTreeOf, createCustomMapping } from './kanaMapping';\n\n// NOTE: not exactly kunrei shiki, for example „Å¢„ÇÉ -> dya instead of zya, to avoid name clashing\n/* eslint-disable */\n// prettier-ignore\nconst BASIC_KUNREI = {\n  a: '„ÅÇ', i: '„ÅÑ', u: '„ÅÜ', e: '„Åà', o: '„Åä',\n  k: { a: '„Åã', i: '„Åç', u: '„Åè', e: '„Åë', o: '„Åì', },\n  s: { a: '„Åï', i: '„Åó', u: '„Åô', e: '„Åõ', o: '„Åù', },\n  t: { a: '„Åü', i: '„Å°', u: '„Å§', e: '„Å¶', o: '„Å®', },\n  n: { a: '„Å™', i: '„Å´', u: '„Å¨', e: '„Å≠', o: '„ÅÆ', },\n  h: { a: '„ÅØ', i: '„Å≤', u: '„Åµ', e: '„Å∏', o: '„Åª', },\n  m: { a: '„Åæ', i: '„Åø', u: '„ÇÄ', e: '„ÇÅ', o: '„ÇÇ', },\n  y: { a: '„ÇÑ', u: '„ÇÜ', o: '„Çà' },\n  r: { a: '„Çâ', i: '„Çä', u: '„Çã', e: '„Çå', o: '„Çç', },\n  w: { a: '„Çè', i: '„Çê', e: '„Çë', o: '„Çí', },\n  g: { a: '„Åå', i: '„Åé', u: '„Åê', e: '„Åí', o: '„Åî', },\n  z: { a: '„Åñ', i: '„Åò', u: '„Åö', e: '„Åú', o: '„Åû', },\n  d: { a: '„Å†', i: '„Å¢', u: '„Å•', e: '„Åß', o: '„Å©', },\n  b: { a: '„Å∞', i: '„Å≥', u: '„Å∂', e: '„Åπ', o: '„Åº', },\n  p: { a: '„Å±', i: '„Å¥', u: '„Å∑', e: '„Å∫', o: '„ÅΩ', },\n  v: { a: '„Çî„ÅÅ', i: '„Çî„ÅÉ', u: '„Çî', e: '„Çî„Åá', o: '„Çî„Åâ', },\n};\n\nconst SPECIAL_SYMBOLS = {\n  '.': '„ÄÇ',\n  ',': '„ÄÅ',\n  ':': 'Ôºö',\n  '/': '„Éª',\n  '!': 'ÔºÅ',\n  '?': 'Ôºü',\n  '~': '„Äú',\n  '-': '„Éº',\n  '‚Äò': '„Äå',\n  '‚Äô': '„Äç',\n  '‚Äú': '„Äé',\n  '‚Äù': '„Äè',\n  '[': 'Ôºª',\n  ']': 'ÔºΩ',\n  '(': 'Ôºà',\n  ')': 'Ôºâ',\n  '{': 'ÔΩõ',\n  '}': 'ÔΩù',\n};\n\nconst CONSONANTS = {\n  k: '„Åç',\n  s: '„Åó',\n  t: '„Å°',\n  n: '„Å´',\n  h: '„Å≤',\n  m: '„Åø',\n  r: '„Çä',\n  g: '„Åé',\n  z: '„Åò',\n  d: '„Å¢',\n  b: '„Å≥',\n  p: '„Å¥',\n  v: '„Çî',\n  q: '„Åè',\n  f: '„Åµ',\n};\nconst SMALL_Y = { ya: '„ÇÉ', yi: '„ÅÉ', yu: '„ÇÖ', ye: '„Åá', yo: '„Çá' };\nconst SMALL_VOWELS = { a: '„ÅÅ', i: '„ÅÉ', u: '„ÅÖ', e: '„Åá', o: '„Åâ' };\n\n// typing one should be the same as having typed the other instead\nconst ALIASES = {\n  sh: 'sy', // sha -> sya\n  ch: 'ty', // cho -> tyo\n  cy: 'ty', // cyo -> tyo\n  chy: 'ty', // chyu -> tyu\n  shy: 'sy', // shya -> sya\n  j: 'zy', // ja -> zya\n  jy: 'zy', // jye -> zye\n\n  // exceptions to above rules\n  shi: 'si',\n  chi: 'ti',\n  tsu: 'tu',\n  ji: 'zi',\n  fu: 'hu',\n};\n\n// xtu -> „Å£\nconst SMALL_LETTERS = Object.assign(\n  {\n    tu: '„Å£',\n    wa: '„Çé',\n    ka: '„Éµ',\n    ke: '„É∂',\n  },\n  SMALL_VOWELS,\n  SMALL_Y\n);\n\n// don't follow any notable patterns\nconst SPECIAL_CASES = {\n  yi: '„ÅÑ',\n  wu: '„ÅÜ',\n  ye: '„ÅÑ„Åá',\n  wi: '„ÅÜ„ÅÉ',\n  we: '„ÅÜ„Åá',\n  kwa: '„Åè„ÅÅ',\n  whu: '„ÅÜ',\n  // because it's not thya for „Å¶„ÇÉ but tha\n  // and tha is not „Å¶„ÅÅ, but „Å¶„ÇÉ\n  tha: '„Å¶„ÇÉ',\n  thu: '„Å¶„ÇÖ',\n  tho: '„Å¶„Çá',\n  dha: '„Åß„ÇÉ',\n  dhu: '„Åß„ÇÖ',\n  dho: '„Åß„Çá',\n};\n\nconst AIUEO_CONSTRUCTIONS = {\n  wh: '„ÅÜ',\n  kw: '„Åè',\n  qw: '„Åè',\n  q: '„Åè',\n  gw: '„Åê',\n  sw: '„Åô',\n  ts: '„Å§',\n  th: '„Å¶',\n  tw: '„Å®',\n  dh: '„Åß',\n  dw: '„Å©',\n  fw: '„Åµ',\n  f: '„Åµ',\n};\n\n/* eslint-enable */\nfunction createRomajiToKanaMap() {\n  const kanaTree = transform(BASIC_KUNREI);\n  // pseudo partial application\n  const subtreeOf = (string) => getSubTreeOf(kanaTree, string);\n\n  // add tya, sya, etc.\n  Object.entries(CONSONANTS).forEach(([consonant, yKana]) => {\n    Object.entries(SMALL_Y).forEach(([roma, kana]) => {\n      // for example kyo -> „Åç + „Çá\n      subtreeOf(consonant + roma)[''] = yKana + kana;\n    });\n  });\n\n  Object.entries(SPECIAL_SYMBOLS).forEach(([symbol, jsymbol]) => {\n    subtreeOf(symbol)[''] = jsymbol;\n  });\n\n  // things like „ÅÜ„ÅÉ, „Åè„ÅÉ, etc.\n  Object.entries(AIUEO_CONSTRUCTIONS).forEach(([consonant, aiueoKana]) => {\n    Object.entries(SMALL_VOWELS).forEach(([vowel, kana]) => {\n      const subtree = subtreeOf(consonant + vowel);\n      subtree[''] = aiueoKana + kana;\n    });\n  });\n\n  // different ways to write „Çì\n  ['n', \"n'\", 'xn'].forEach((nChar) => {\n    subtreeOf(nChar)[''] = '„Çì';\n  });\n\n  // c is equivalent to k, but not for chi, cha, etc. that's why we have to make a copy of k\n  kanaTree.c = JSON.parse(JSON.stringify(kanaTree.k));\n\n  Object.entries(ALIASES).forEach(([string, alternative]) => {\n    const allExceptLast = string.slice(0, string.length - 1);\n    const last = string.charAt(string.length - 1);\n    const parentTree = subtreeOf(allExceptLast);\n    // copy to avoid recursive containment\n    parentTree[last] = JSON.parse(JSON.stringify(subtreeOf(alternative)));\n  });\n\n  function getAlternatives(string) {\n    return [...Object.entries(ALIASES), ...[['c', 'k']]].reduce(\n      (list, [alt, roma]) => (string.startsWith(roma) ? list.concat(string.replace(roma, alt)) : list),\n      []\n    );\n  }\n\n  Object.entries(SMALL_LETTERS).forEach(([kunreiRoma, kana]) => {\n    const last = (char) => char.charAt(char.length - 1);\n    const allExceptLast = (chars) => chars.slice(0, chars.length - 1);\n    const xRoma = `x${kunreiRoma}`;\n    const xSubtree = subtreeOf(xRoma);\n    xSubtree[''] = kana;\n\n    // ltu -> xtu -> „Å£\n    const parentTree = subtreeOf(`l${allExceptLast(kunreiRoma)}`);\n    parentTree[last(kunreiRoma)] = xSubtree;\n\n    // ltsu -> ltu -> „Å£\n    getAlternatives(kunreiRoma).forEach((altRoma) => {\n      ['l', 'x'].forEach((prefix) => {\n        const altParentTree = subtreeOf(prefix + allExceptLast(altRoma));\n        altParentTree[last(altRoma)] = subtreeOf(prefix + kunreiRoma);\n      });\n    });\n  });\n\n  Object.entries(SPECIAL_CASES).forEach(([string, kana]) => {\n    subtreeOf(string)[''] = kana;\n  });\n\n  // add kka, tta, etc.\n  function addTsu(tree) {\n    return Object.entries(tree).reduce((tsuTree, [key, value]) => {\n      if (!key) {\n        // we have reached the bottom of this branch\n        // eslint-disable-next-line no-param-reassign\n        tsuTree[key] = `„Å£${value}`;\n      } else {\n        // more subtrees\n        // eslint-disable-next-line no-param-reassign\n        tsuTree[key] = addTsu(value);\n      }\n      return tsuTree;\n    }, {});\n  }\n  // have to explicitly name c here, because we made it a copy of k, not a reference\n  [...Object.keys(CONSONANTS), 'c', 'y', 'w', 'j'].forEach((consonant) => {\n    const subtree = kanaTree[consonant];\n    subtree[consonant] = addTsu(subtree);\n  });\n  // nn should not be „Å£„Çì\n  delete kanaTree.n.n;\n  // solidify the results, so that there there is referential transparency within the tree\n  return Object.freeze(JSON.parse(JSON.stringify(kanaTree)));\n}\n\nlet romajiToKanaMap = null;\n\nexport function getRomajiToKanaTree() {\n  if (romajiToKanaMap == null) {\n    romajiToKanaMap = createRomajiToKanaMap();\n  }\n  return romajiToKanaMap;\n}\n\nexport const USE_OBSOLETE_KANA_MAP = createCustomMapping({\n  wi: '„Çê',\n  we: '„Çë',\n});\n\nexport function IME_MODE_MAP(map) {\n  // in IME mode, we do not want to convert single ns\n  const mapCopy = JSON.parse(JSON.stringify(map));\n  mapCopy.n.n = { '': '„Çì' };\n  mapCopy.n[' '] = { '': '„Çì' };\n  return mapCopy;\n}\n","import isEmpty from './isEmpty';\nimport isCharInRange from './isCharInRange';\nimport { LATIN_UPPERCASE_START, LATIN_UPPERCASE_END } from '../constants.ts';\n\n/**\n * Tests if char is in English unicode uppercase range\n * @param  {String} char\n * @return {Boolean}\n */\nfunction isCharUpperCase(char = '') {\n  if (isEmpty(char)) return false;\n  return isCharInRange(char, LATIN_UPPERCASE_START, LATIN_UPPERCASE_END);\n}\n\nexport default isCharUpperCase;\n","import isEmpty from './isEmpty';\nimport { PROLONGED_SOUND_MARK } from '../constants.ts';\n\n/**\n * Returns true if char is '„Éº'\n * @param  {String} char to test\n * @return {Boolean}\n */\nfunction isCharLongDash(char = '') {\n  if (isEmpty(char)) return false;\n  return char.charCodeAt(0) === PROLONGED_SOUND_MARK;\n}\n\nexport default isCharLongDash;\n","import isEmpty from './isEmpty';\nimport { KANA_SLASH_DOT } from '../constants.ts';\n\n/**\n * Tests if char is '„Éª'\n * @param  {String} char\n * @return {Boolean} true if '„Éª'\n */\nfunction isCharSlashDot(char = '') {\n  if (isEmpty(char)) return false;\n  return char.charCodeAt(0) === KANA_SLASH_DOT;\n}\n\nexport default isCharSlashDot;\n","import isEmpty from './isEmpty';\nimport isCharLongDash from './isCharLongDash';\nimport isCharInRange from './isCharInRange';\nimport {\n  HIRAGANA_START,\n  HIRAGANA_END,\n} from '../constants.ts';\n\n/**\n * Tests a character. Returns true if the character is [Hiragana](https://en.wikipedia.org/wiki/Hiragana).\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharHiragana(char = '') {\n  if (isEmpty(char)) return false;\n  if (isCharLongDash(char)) return true;\n  return isCharInRange(char, HIRAGANA_START, HIRAGANA_END);\n}\n\nexport default isCharHiragana;\n","import { KATAKANA_START, HIRAGANA_START } from '../constants.ts';\n\nimport isCharLongDash from './isCharLongDash';\nimport isCharSlashDot from './isCharSlashDot';\nimport isCharHiragana from './isCharHiragana';\n\n/**\n * Convert [Hiragana](https://en.wikipedia.org/wiki/Hiragana) to [Katakana](https://en.wikipedia.org/wiki/Katakana)\n * Passes through any non-hiragana chars\n * @private\n * @param  {String} [input=''] text input\n * @return {String} converted text\n * @example\n * hiraganaToKatakana('„Å≤„Çâ„Åå„Å™')\n * // => \"„Éí„É©„Ç¨„Éä\"\n * hiraganaToKatakana('„Å≤„Çâ„Åå„Å™ is a type of kana')\n * // => \"„Éí„É©„Ç¨„Éä is a type of kana\"\n */\nfunction hiraganaToKatakana(input = '') {\n  const kata = [];\n  input.split('').forEach((char) => {\n    // Short circuit to avoid incorrect codeshift for '„Éº' and '„Éª'\n    if (isCharLongDash(char) || isCharSlashDot(char)) {\n      kata.push(char);\n    } else if (isCharHiragana(char)) {\n      // Shift charcode.\n      const code = char.charCodeAt(0) + (KATAKANA_START - HIRAGANA_START);\n      const kataChar = String.fromCharCode(code);\n      kata.push(kataChar);\n    } else {\n      // Pass non-hiragana chars through\n      kata.push(char);\n    }\n  });\n  return kata.join('');\n}\n\nexport default hiraganaToKatakana;\n","import memoizeOne from 'memoize-one';\nimport { dequal } from 'dequal';\n\nimport { TO_KANA_METHODS } from './constants';\nimport mergeWithDefaultOptions from './utils/mergeWithDefaultOptions';\nimport {\n  getRomajiToKanaTree,\n  IME_MODE_MAP,\n  USE_OBSOLETE_KANA_MAP,\n} from './utils/romajiToKanaMap';\nimport { applyMapping, mergeCustomMapping } from './utils/kanaMapping';\nimport isCharUpperCase from './utils/isCharUpperCase';\nimport hiraganaToKatakana from './utils/hiraganaToKatakana';\n\n// memoize and deeply compare args so we only recreate when necessary\nexport const createRomajiToKanaMap = memoizeOne(\n  (IMEMode, useObsoleteKana, customKanaMapping) => {\n    let map = getRomajiToKanaTree();\n\n    map = IMEMode ? IME_MODE_MAP(map) : map;\n    map = useObsoleteKana ? USE_OBSOLETE_KANA_MAP(map) : map;\n\n    if (customKanaMapping) {\n      map = mergeCustomMapping(map, customKanaMapping);\n    }\n\n    return map;\n  },\n  dequal\n);\n\n/**\n * Convert [Romaji](https://en.wikipedia.org/wiki/Romaji) to [Kana](https://en.wikipedia.org/wiki/Kana), lowercase text will result in [Hiragana](https://en.wikipedia.org/wiki/Hiragana) and uppercase text will result in [Katakana](https://en.wikipedia.org/wiki/Katakana).\n * @param  {String} [input=''] text\n * @param  {DefaultOptions} [options=defaultOptions]\n * @param  {Object.<string, string>} [map] custom mapping\n * @return {String} converted text\n * @example\n * toKana('onaji BUTTSUUJI')\n * // => '„Åä„Å™„Åò „Éñ„ÉÉ„ÉÑ„Ç¶„Ç∏'\n * toKana('ONAJI buttsuuji')\n * // => '„Ç™„Éä„Ç∏ „Å∂„Å£„Å§„ÅÜ„Åò'\n * toKana('Â∫ßÁ¶Ö‚Äòzazen‚Äô„Çπ„Çø„Ç§„É´')\n * // => 'Â∫ßÁ¶Ö„Äå„Åñ„Åú„Çì„Äç„Çπ„Çø„Ç§„É´'\n * toKana('batsuge-mu')\n * // => '„Å∞„Å§„Åí„Éº„ÇÄ'\n * toKana('!?.:/,~-‚Äò‚Äô‚Äú‚Äù[](){}') // Punctuation conversion\n * // => 'ÔºÅÔºü„ÄÇÔºö„Éª„ÄÅ„Äú„Éº„Äå„Äç„Äé„ÄèÔºªÔºΩÔºàÔºâÔΩõÔΩù'\n * toKana('we', { useObsoleteKana: true })\n * // => '„Çë'\n * toKana('wanakana', { customKanaMapping: { na: '„Å´', ka: 'bana' } });\n * // => '„Çè„Å´bana„Å´'\n */\nexport function toKana(input = '', options = {}, map) {\n  let config;\n  if (!map) {\n    config = mergeWithDefaultOptions(options);\n    map = createRomajiToKanaMap(\n      config.IMEMode,\n      config.useObsoleteKana,\n      config.customKanaMapping\n    );\n  } else {\n    config = options;\n  }\n\n  // throw away the substring index information and just concatenate all the kana\n  return splitIntoConvertedKana(input, config, map)\n    .map((kanaToken) => {\n      const [start, end, kana] = kanaToken;\n      if (kana === null) {\n        // haven't converted the end of the string, since we are in IME mode\n        return input.slice(start);\n      }\n      const enforceHiragana = config.IMEMode === TO_KANA_METHODS.HIRAGANA;\n      const enforceKatakana = config.IMEMode === TO_KANA_METHODS.KATAKANA\n        || [...input.slice(start, end)].every(isCharUpperCase);\n\n      return enforceHiragana || !enforceKatakana\n        ? kana\n        : hiraganaToKatakana(kana);\n    })\n    .join('');\n}\n\n/**\n *\n * @private\n * @param {String} [input=''] input text\n * @param {DefaultOptions} [options=defaultOptions] toKana options\n * @param {Object} [map] custom mapping\n * @returns {Array[]} [[start, end, token]]\n * @example\n * splitIntoConvertedKana('buttsuuji')\n * // => [[0, 2, '„Å∂'], [2, 6, '„Å£„Å§'], [6, 7, '„ÅÜ'], [7, 9, '„Åò']]\n */\nexport function splitIntoConvertedKana(input = '', options = {}, map) {\n  const { IMEMode, useObsoleteKana, customKanaMapping } = options;\n\n  if (!map) {\n    map = createRomajiToKanaMap(IMEMode, useObsoleteKana, customKanaMapping);\n  }\n\n  return applyMapping(input.toLowerCase(), map, !IMEMode);\n}\n\nexport default toKana;\n","import isJapanese from '../isJapanese';\nimport toKana, { createRomajiToKanaMap } from '../toKana';\nimport mergeWithDefaultOptions from './mergeWithDefaultOptions';\n\nlet LISTENERS = [];\n/**\n * Automagically replaces input values with converted text to kana\n * @param  {defaultOptions} [options] user config overrides, default conversion is toKana()\n * @return {Function} event handler with bound options\n * @private\n */\nexport function makeOnInput(options) {\n  let prevInput;\n\n  // Enforce IMEMode if not already specified\n  const mergedConfig = Object.assign({}, mergeWithDefaultOptions(options), {\n    IMEMode: options.IMEMode || true,\n  });\n\n  const preConfiguredMap = createRomajiToKanaMap(\n    mergedConfig.IMEMode,\n    mergedConfig.useObsoleteKana,\n    mergedConfig.customKanaMapping\n  );\n\n  const triggers = [\n    ...Object.keys(preConfiguredMap),\n    ...Object.keys(preConfiguredMap).map((char) => char.toUpperCase()),\n  ];\n\n  return function onInput({ target }) {\n    if (\n      target.value !== prevInput\n      && target.dataset.ignoreComposition !== 'true'\n    ) {\n      convertInput(target, mergedConfig, preConfiguredMap, triggers, prevInput);\n    }\n  };\n}\n\nexport function convertInput(target, options, map, triggers, prevInput) {\n  const [head, textToConvert, tail] = splitInput(\n    target.value,\n    target.selectionEnd,\n    triggers\n  );\n  const convertedText = toKana(textToConvert, options, map);\n  const changed = textToConvert !== convertedText;\n\n  if (changed) {\n    const newCursor = head.length + convertedText.length;\n    const newValue = head + convertedText + tail;\n    // eslint-disable-next-line no-param-reassign\n    target.value = newValue;\n    // eslint-disable-next-line no-param-reassign\n    prevInput = newValue;\n\n    if (tail.length) {\n      // push later on event loop (otherwise mid-text insertion can be 1 char too far to the right)\n      setTimeout(() => target.setSelectionRange(newCursor, newCursor), 1);\n    } else {\n      target.setSelectionRange(newCursor, newCursor);\n    }\n  } else {\n    // eslint-disable-next-line no-param-reassign\n    prevInput = target.value;\n  }\n}\n\nexport function onComposition({ type, target, data }) {\n  // navigator.platform is not 100% reliable for singling out all OS,\n  // but for determining desktop \"Mac OS\" it is effective enough.\n  const isMacOS = /Mac/.test(window.navigator && window.navigator.platform);\n  // We don't want to ignore on Android:\n  // https://github.com/WaniKani/WanaKana/issues/82\n  // But MacOS IME auto-closes if we don't ignore:\n  // https://github.com/WaniKani/WanaKana/issues/71\n  // Other platform Japanese IMEs pass through happily\n  if (isMacOS) {\n    if (type === 'compositionupdate' && isJapanese(data)) {\n      // eslint-disable-next-line no-param-reassign\n      target.dataset.ignoreComposition = 'true';\n    }\n\n    if (type === 'compositionend') {\n      // eslint-disable-next-line no-param-reassign\n      target.dataset.ignoreComposition = 'false';\n    }\n  }\n}\n\nexport function trackListeners(id, inputHandler, compositionHandler) {\n  LISTENERS = LISTENERS.concat({\n    id,\n    inputHandler,\n    compositionHandler,\n  });\n}\n\nexport function untrackListeners({ id: targetId }) {\n  LISTENERS = LISTENERS.filter(({ id }) => id !== targetId);\n}\n\nexport function findListeners(el) {\n  return (\n    el && LISTENERS.find(({ id }) => id === el.getAttribute('data-wanakana-id'))\n  );\n}\n\n// Handle non-terminal inserted input conversion:\n// | -> „Çè| -> „Çè„Å≥| -> „Çè|„Å≥ -> „Çès|„Å≥ -> „Çèsh|„Å≥ -> „Çèshi|„Å≥ -> „Çè„Åó|„Å≥\n// or multiple ambiguous positioning (to select which \"s\" to work from)\n// „Åìs„Åìs|„Åìs„Åì -> „Åìs„Åìso|„Åìs„Åì -> „Åìs„Åì„Åù|„Åìs„Åì\nexport function splitInput(text = '', cursor = 0, triggers = []) {\n  let head;\n  let toConvert;\n  let tail;\n\n  if (cursor === 0 && triggers.includes(text[0])) {\n    [head, toConvert, tail] = workFromStart(text, triggers);\n  } else if (cursor > 0) {\n    [head, toConvert, tail] = workBackwards(text, cursor);\n  } else {\n    [head, toConvert] = takeWhileAndSlice(\n      text,\n      (char) => !triggers.includes(char)\n    );\n    [toConvert, tail] = takeWhileAndSlice(\n      toConvert,\n      (char) => !isJapanese(char)\n    );\n  }\n\n  return [head, toConvert, tail];\n}\n\nfunction workFromStart(text, catalystChars) {\n  return [\n    '',\n    ...takeWhileAndSlice(\n      text,\n      (char) => catalystChars.includes(char) || !isJapanese(char, /[0-9]/)\n    ),\n  ];\n}\n\nfunction workBackwards(text = '', startIndex = 0) {\n  const [toConvert, head] = takeWhileAndSlice(\n    [...text.slice(0, startIndex)].reverse(),\n    (char) => !isJapanese(char)\n  );\n  return [\n    head.reverse().join(''),\n    toConvert\n      .split('')\n      .reverse()\n      .join(''),\n    text.slice(startIndex),\n  ];\n}\n\nfunction takeWhileAndSlice(source = {}, predicate = (x) => !!x) {\n  const result = [];\n  const { length } = source;\n  let i = 0;\n  while (i < length && predicate(source[i], i)) {\n    result.push(source[i]);\n    i += 1;\n  }\n  return [result.join(''), source.slice(i)];\n}\n","/* eslint-disable no-console */\nconst onInput = ({ target: { value, selectionStart, selectionEnd } }) => console.log('input:', { value, selectionStart, selectionEnd });\nconst onCompositionStart = () => console.log('compositionstart');\nconst onCompositionUpdate = ({\n  target: { value, selectionStart, selectionEnd },\n  data,\n}) => console.log('compositionupdate', {\n  data,\n  value,\n  selectionStart,\n  selectionEnd,\n});\nconst onCompositionEnd = () => console.log('compositionend');\n\nconst events = {\n  input: onInput,\n  compositionstart: onCompositionStart,\n  compositionupdate: onCompositionUpdate,\n  compositionend: onCompositionEnd,\n};\n\nexport const addDebugListeners = (input) => {\n  Object.entries(events).forEach(([event, handler]) => input.addEventListener(event, handler)\n  );\n};\n\nexport const removeDebugListeners = (input) => {\n  Object.entries(events).forEach(([event, handler]) => input.removeEventListener(event, handler)\n  );\n};\n","import { makeOnInput, onComposition, trackListeners } from './utils/dom';\nimport { addDebugListeners } from './utils/logInputEvents';\n\nconst ELEMENTS = ['TEXTAREA', 'INPUT'];\n\nlet idCounter = 0;\nconst newId = () => {\n  idCounter += 1;\n  return `${Date.now()}${idCounter}`;\n};\n\n/**\n * Binds eventListener for 'input' events to an input field to automagically replace values with kana\n * Can pass `{ IMEMode: 'toHiragana' || 'toKatakana' }` to enforce kana conversion type\n * @param  {HTMLInputElement | HTMLTextAreaElement} element textarea, input[type=\"text\"] etc\n * @param  {DefaultOptions} [options=defaultOptions] defaults to { IMEMode: true } using `toKana`\n * @example\n * bind(document.querySelector('#myInput'));\n */\nfunction bind(element = {}, options = {}, debug = false) {\n  if (!ELEMENTS.includes(element.nodeName)) {\n    throw new Error(\n      `Element provided to Wanakana bind() was not a valid input or textarea element.\\n Received: (${JSON.stringify(\n        element\n      )})`\n    );\n  }\n  if (element.hasAttribute('data-wanakana-id')) {\n    return;\n  }\n  const onInput = makeOnInput(options);\n  const id = newId();\n  const attributes = [\n    { name: 'data-wanakana-id', value: id },\n    { name: 'lang', value: 'ja' },\n    { name: 'autoCapitalize', value: 'none' },\n    { name: 'autoCorrect', value: 'off' },\n    { name: 'autoComplete', value: 'off' },\n    { name: 'spellCheck', value: 'false' },\n  ];\n  const previousAttributes = {};\n  attributes.forEach((attribute) => {\n    previousAttributes[attribute.name] = element.getAttribute(attribute.name);\n    element.setAttribute(attribute.name, attribute.value);\n  });\n  element.dataset.previousAttributes = JSON.stringify(previousAttributes);\n  element.addEventListener('input', onInput);\n  element.addEventListener('compositionupdate', onComposition);\n  element.addEventListener('compositionend', onComposition);\n  trackListeners(id, onInput, onComposition);\n  if (debug === true) {\n    addDebugListeners(element);\n  }\n}\n\nexport default bind;\n","import { findListeners, untrackListeners } from './utils/dom';\nimport { removeDebugListeners } from './utils/logInputEvents';\n\n/**\n * Unbinds eventListener from input field\n * @param  {HTMLInputElement | HTMLTextAreaElement} element textarea, input\n */\nexport function unbind(element, debug = false) {\n  const listeners = findListeners(element);\n  if (listeners == null) {\n    throw new Error(\n      `Element provided to Wanakana unbind() had no listener registered.\\n Received: ${JSON.stringify(\n        element\n      )}`\n    );\n  }\n  const { inputHandler, compositionHandler } = listeners;\n  const attributes = JSON.parse(element.dataset.previousAttributes);\n  Object.keys(attributes).forEach((key) => {\n    if (attributes[key]) {\n      element.setAttribute(key, attributes[key]);\n    } else {\n      element.removeAttribute(key);\n    }\n  });\n  element.removeAttribute('data-previous-attributes');\n  element.removeAttribute('data-ignore-composition');\n  element.removeEventListener('input', inputHandler);\n  element.removeEventListener('compositionstart', compositionHandler);\n  element.removeEventListener('compositionupdate', compositionHandler);\n  element.removeEventListener('compositionend', compositionHandler);\n  untrackListeners(listeners);\n  if (debug === true) {\n    removeDebugListeners(element);\n  }\n}\n\nexport default unbind;\n","import isEmpty from './isEmpty';\nimport isCharInRange from './isCharInRange';\nimport { ROMAJI_RANGES } from '../constants.ts';\n\n/**\n * Tests a character. Returns true if the character is [Romaji](https://en.wikipedia.org/wiki/Romaji) (allowing [Hepburn romanisation](https://en.wikipedia.org/wiki/Hepburn_romanization))\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharRomaji(char = '') {\n  if (isEmpty(char)) return false;\n  return ROMAJI_RANGES.some(([start, end]) => isCharInRange(char, start, end));\n}\n\nexport default isCharRomaji;\n","import typeOf from './utils/typeOf';\nimport isEmpty from './utils/isEmpty';\nimport isCharRomaji from './utils/isCharRomaji';\n\n/**\n * Test if `input` is [Romaji](https://en.wikipedia.org/wiki/Romaji) (allowing [Hepburn romanisation](https://en.wikipedia.org/wiki/Hepburn_romanization))\n * @param  {String} [input=''] text\n * @param  {RegExp} [allowed] additional test allowed to pass for each char\n * @return {Boolean} true if [Romaji](https://en.wikipedia.org/wiki/Romaji)\n * @example\n * isRomaji('T≈çky≈ç and ≈åsaka')\n * // => true\n * isRomaji('12a*b&c-d')\n * // => true\n * isRomaji('„ÅÇ„Ç¢A')\n * // => false\n * isRomaji('„ÅäÈ°ò„ÅÑ')\n * // => false\n * isRomaji('aÔºÅb&c„Éºd') // Zenkaku punctuation fails\n * // => false\n * isRomaji('aÔºÅb&c„Éºd', /[ÔºÅ„Éº]/)\n * // => true\n */\nfunction isRomaji(input = '', allowed) {\n  const augmented = typeOf(allowed) === 'regexp';\n  return isEmpty(input)\n    ? false\n    : [...input].every((char) => {\n      const isRoma = isCharRomaji(char);\n      return !augmented ? isRoma : isRoma || allowed.test(char);\n    });\n}\n\nexport default isRomaji;\n","import {\n  KATAKANA_START,\n  KATAKANA_END,\n} from '../constants.ts';\n\nimport isCharInRange from './isCharInRange';\n\n/**\n * Tests a character. Returns true if the character is [Katakana](https://en.wikipedia.org/wiki/Katakana).\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharKatakana(char = '') {\n  return isCharInRange(char, KATAKANA_START, KATAKANA_END);\n}\n\nexport default isCharKatakana;\n","import isEmpty from './isEmpty';\nimport isCharHiragana from './isCharHiragana';\nimport isCharKatakana from './isCharKatakana';\n\n/**\n * Tests a character. Returns true if the character is [Hiragana](https://en.wikipedia.org/wiki/Hiragana) or [Katakana](https://en.wikipedia.org/wiki/Katakana).\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharKana(char = '') {\n  if (isEmpty(char)) return false;\n  return isCharHiragana(char) || isCharKatakana(char);\n}\n\nexport default isCharKana;\n","import isEmpty from './utils/isEmpty';\nimport isCharKana from './utils/isCharKana';\n\n/**\n * Test if `input` is [Kana](https://en.wikipedia.org/wiki/Kana) ([Katakana](https://en.wikipedia.org/wiki/Katakana) and/or [Hiragana](https://en.wikipedia.org/wiki/Hiragana))\n * @param  {String} [input=''] text\n * @return {Boolean} true if all [Kana](https://en.wikipedia.org/wiki/Kana)\n * @example\n * isKana('„ÅÇ')\n * // => true\n * isKana('„Ç¢')\n * // => true\n * isKana('„ÅÇ„Éº„Ç¢')\n * // => true\n * isKana('A')\n * // => false\n * isKana('„ÅÇA„Ç¢')\n * // => false\n */\nfunction isKana(input = '') {\n  if (isEmpty(input)) return false;\n  return [...input].every(isCharKana);\n}\n\nexport default isKana;\n","import isEmpty from './utils/isEmpty';\nimport isCharHiragana from './utils/isCharHiragana';\n\n/**\n * Test if `input` is [Hiragana](https://en.wikipedia.org/wiki/Hiragana)\n * @param  {String} [input=''] text\n * @return {Boolean} true if all [Hiragana](https://en.wikipedia.org/wiki/Hiragana)\n * @example\n * isHiragana('„Åí„Éº„ÇÄ')\n * // => true\n * isHiragana('A')\n * // => false\n * isHiragana('„ÅÇ„Ç¢')\n * // => false\n */\nfunction isHiragana(input = '') {\n  if (isEmpty(input)) return false;\n  return [...input].every(isCharHiragana);\n}\n\nexport default isHiragana;\n","import isEmpty from './utils/isEmpty';\nimport isCharKatakana from './utils/isCharKatakana';\n\n/**\n * Test if `input` is [Katakana](https://en.wikipedia.org/wiki/Katakana)\n * @param  {String} [input=''] text\n * @return {Boolean} true if all [Katakana](https://en.wikipedia.org/wiki/Katakana)\n * @example\n * isKatakana('„Ç≤„Éº„É†')\n * // => true\n * isKatakana('„ÅÇ')\n * // => false\n * isKatakana('A')\n * // => false\n * isKatakana('„ÅÇ„Ç¢')\n * // => false\n */\nfunction isKatakana(input = '') {\n  if (isEmpty(input)) return false;\n  return [...input].every(isCharKatakana);\n}\n\nexport default isKatakana;\n","import isEmpty from './isEmpty';\nimport { KANJI_ITERATION_MARK } from '../constants.ts';\n\n/**\n * Returns true if char is '„ÄÖ'\n * @param  {String} char to test\n * @return {Boolean}\n */\nfunction isCharIterationMark(char = '') {\n  if (isEmpty(char)) return false;\n  return char.charCodeAt(0) === KANJI_ITERATION_MARK;\n}\n\nexport default isCharIterationMark;\n","import { KANJI_START, KANJI_END } from '../constants.ts';\n\nimport isCharInRange from './isCharInRange';\nimport isCharIterationMark from './isCharIterationMark';\n/**\n * Tests a character. Returns true if the character is a CJK ideograph (kanji).\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharKanji(char = '') {\n  return isCharInRange(char, KANJI_START, KANJI_END) || isCharIterationMark(char);\n}\n\nexport default isCharKanji;\n","import isEmpty from './utils/isEmpty';\nimport isCharKanji from './utils/isCharKanji';\n\n/**\n * Tests if `input` is [Kanji](https://en.wikipedia.org/wiki/Kanji) ([Japanese CJK ideographs](https://en.wikipedia.org/wiki/CJK_Unified_Ideographs))\n * @param  {String} [input=''] text\n * @return {Boolean} true if all [Kanji](https://en.wikipedia.org/wiki/Kanji)\n * @example\n * isKanji('ÂàÄ')\n * // => true\n * isKanji('ÂàáËÖπ')\n * // => true\n * isKanji('Âã¢„ÅÑ')\n * // => false\n * isKanji('„ÅÇA„Ç¢')\n * // => false\n * isKanji('üê∏')\n * // => false\n */\nfunction isKanji(input = '') {\n  if (isEmpty(input)) return false;\n  return [...input].every(isCharKanji);\n}\n\nexport default isKanji;\n","import isKanji from './isKanji';\nimport isHiragana from './isHiragana';\nimport isKatakana from './isKatakana';\nimport isRomaji from './isRomaji';\n\n/**\n * Test if `input` contains a mix of [Romaji](https://en.wikipedia.org/wiki/Romaji) *and* [Kana](https://en.wikipedia.org/wiki/Kana), defaults to pass through [Kanji](https://en.wikipedia.org/wiki/Kanji)\n * @param  {String} input text\n * @param  {{ passKanji: Boolean}} [options={ passKanji: true }] optional config to pass through kanji\n * @return {Boolean} true if mixed\n * @example\n * isMixed('Ab„ÅÇ„Ç¢'))\n * // => true\n * isMixed('„ÅäËÖπA')) // ignores kanji by default\n * // => true\n * isMixed('„ÅäËÖπA', { passKanji: false }))\n * // => false\n * isMixed('ab'))\n * // => false\n * isMixed('„ÅÇ„Ç¢'))\n * // => false\n */\nfunction isMixed(input = '', options = { passKanji: true }) {\n  const chars = [...input];\n  let hasKanji = false;\n  if (!options.passKanji) {\n    hasKanji = chars.some(isKanji);\n  }\n  return (chars.some(isHiragana) || chars.some(isKatakana)) && chars.some(isRomaji) && !hasKanji;\n}\n\nexport default isMixed;\n","import { KATAKANA_START, HIRAGANA_START } from '../constants.ts';\n\nimport isCharLongDash from './isCharLongDash';\nimport isCharSlashDot from './isCharSlashDot';\nimport isCharKatakana from './isCharKatakana';\nconst isCharInitialLongDash = (char, index) => isCharLongDash(char) && index < 1;\nconst isCharInnerLongDash = (char, index) => isCharLongDash(char) && index > 0;\nconst isKanaAsSymbol = (char) => ['„É∂', '„Éµ'].includes(char);\nconst LONG_VOWELS = {\n  a: '„ÅÇ',\n  i: '„ÅÑ',\n  u: '„ÅÜ',\n  e: '„Åà',\n  o: '„ÅÜ',\n};\n\n// inject toRomaji to avoid circular dependency between toRomaji <-> katakanaToHiragana\nfunction katakanaToHiragana(\n  input = '',\n  toRomaji,\n  { isDestinationRomaji, convertLongVowelMark } = {}\n) {\n  let previousKana = '';\n\n  return input\n    .split('')\n    .reduce((hira, char, index) => {\n      // Short circuit to avoid incorrect codeshift for '„Éº' and '„Éª'\n      if (\n        isCharSlashDot(char)\n        || isCharInitialLongDash(char, index)\n        || isKanaAsSymbol(char)\n      ) {\n        return hira.concat(char);\n      }\n\n      // Transform long vowels: '„Ç™„Éº' to '„Åä„ÅÜ'\n      if (\n        convertLongVowelMark\n        && previousKana\n        && isCharInnerLongDash(char, index)\n      ) {\n        // Transform previousKana back to romaji, and slice off the vowel\n        const romaji = toRomaji(previousKana).slice(-1);\n        // However, ensure '„Ç™„Éº' => '„Åä„Åä' => 'oo' if this is a transform on the way to romaji\n        if (\n          isCharKatakana(input[index - 1])\n          && romaji === 'o'\n          && isDestinationRomaji\n        ) {\n          return hira.concat('„Åä');\n        }\n        return hira.concat(LONG_VOWELS[romaji]);\n        // Transform all other chars\n      }\n\n      if (!isCharLongDash(char) && isCharKatakana(char)) {\n        const code = char.charCodeAt(0) + (HIRAGANA_START - KATAKANA_START);\n        const hiraChar = String.fromCharCode(code);\n        previousKana = hiraChar;\n        return hira.concat(hiraChar);\n      }\n\n      // Pass non katakana chars through\n      previousKana = '';\n      return hira.concat(char);\n    }, [])\n    .join('');\n}\n\nexport default katakanaToHiragana;\n","import { transform, getSubTreeOf } from './kanaMapping';\nimport { ROMANIZATIONS } from '../constants.ts';\n\nlet kanaToHepburnMap = null;\n\n/* eslint-disable */\n// prettier-ignore\nconst BASIC_ROMAJI = {\n  „ÅÇ:'a',    „ÅÑ:'i',   „ÅÜ:'u',   „Åà:'e',    „Åä:'o',\n  „Åã:'ka',   „Åç:'ki',  „Åè:'ku',  „Åë:'ke',   „Åì:'ko',\n  „Åï:'sa',   „Åó:'shi', „Åô:'su',  „Åõ:'se',   „Åù:'so',\n  „Åü:'ta',   „Å°:'chi', „Å§:'tsu', „Å¶:'te',   „Å®:'to',\n  „Å™:'na',   „Å´:'ni',  „Å¨:'nu',  „Å≠:'ne',   „ÅÆ:'no',\n  „ÅØ:'ha',   „Å≤:'hi',  „Åµ:'fu',  „Å∏:'he',   „Åª:'ho',\n  „Åæ:'ma',   „Åø:'mi',  „ÇÄ:'mu',  „ÇÅ:'me',   „ÇÇ:'mo',\n  „Çâ:'ra',   „Çä:'ri',  „Çã:'ru',  „Çå:'re',   „Çç:'ro',\n  „ÇÑ:'ya',   „ÇÜ:'yu',  „Çà:'yo',\n  „Çè:'wa',   „Çê:'wi',  „Çë:'we',  „Çí:'wo',\n  „Çì: 'n',\n  „Åå:'ga',   „Åé:'gi',  „Åê:'gu',  „Åí:'ge',   „Åî:'go',\n  „Åñ:'za',   „Åò:'ji',  „Åö:'zu',  „Åú:'ze',   „Åû:'zo',\n  „Å†:'da',   „Å¢:'ji',  „Å•:'zu',  „Åß:'de',   „Å©:'do',\n  „Å∞:'ba',   „Å≥:'bi',  „Å∂:'bu',  „Åπ:'be',   „Åº:'bo',\n  „Å±:'pa',   „Å¥:'pi',  „Å∑:'pu',  „Å∫:'pe',   „ÅΩ:'po',\n  „Çî„ÅÅ:'va', „Çî„ÅÉ:'vi', „Çî:'vu',  „Çî„Åá:'ve', „Çî„Åâ:'vo',\n};\n/* eslint-enable  */\n\nconst SPECIAL_SYMBOLS = {\n  '„ÄÇ': '.',\n  '„ÄÅ': ',',\n  'Ôºö': ':',\n  '„Éª': '/',\n  'ÔºÅ': '!',\n  'Ôºü': '?',\n  '„Äú': '~',\n  '„Éº': '-',\n  '„Äå': '‚Äò',\n  '„Äç': '‚Äô',\n  '„Äé': '‚Äú',\n  '„Äè': '‚Äù',\n  'Ôºª': '[',\n  'ÔºΩ': ']',\n  'Ôºà': '(',\n  'Ôºâ': ')',\n  'ÔΩõ': '{',\n  'ÔΩù': '}',\n  '„ÄÄ': ' ',\n};\n\n// „Çì„ÅÑ -> n'i\nconst AMBIGUOUS_VOWELS = ['„ÅÇ', '„ÅÑ', '„ÅÜ', '„Åà', '„Åä', '„ÇÑ', '„ÇÜ', '„Çà'];\nconst SMALL_Y = { „ÇÉ: 'ya', „ÇÖ: 'yu', „Çá: 'yo' };\nconst SMALL_Y_EXTRA = { „ÅÉ: 'yi', „Åá: 'ye' };\nconst SMALL_AIUEO = {\n  „ÅÅ: 'a',\n  „ÅÉ: 'i',\n  „ÅÖ: 'u',\n  „Åá: 'e',\n  „Åâ: 'o',\n};\nconst YOON_KANA = [\n  '„Åç',\n  '„Å´',\n  '„Å≤',\n  '„Åø',\n  '„Çä',\n  '„Åé',\n  '„Å≥',\n  '„Å¥',\n  '„Çî',\n  '„Åè',\n  '„Åµ',\n];\nconst YOON_EXCEPTIONS = {\n  „Åó: 'sh',\n  „Å°: 'ch',\n  „Åò: 'j',\n  „Å¢: 'j',\n};\nconst SMALL_KANA = {\n  „Å£: '',\n  „ÇÉ: 'ya',\n  „ÇÖ: 'yu',\n  „Çá: 'yo',\n  „ÅÅ: 'a',\n  „ÅÉ: 'i',\n  „ÅÖ: 'u',\n  „Åá: 'e',\n  „Åâ: 'o',\n};\n\n// going with the intuitive (yet incorrect) solution where „Å£„ÇÑ -> yya and „Å£„ÅÉ -> ii\n// in other words, just assume the sokuon could have been applied to anything\nconst SOKUON_WHITELIST = {\n  b: 'b',\n  c: 't',\n  d: 'd',\n  f: 'f',\n  g: 'g',\n  h: 'h',\n  j: 'j',\n  k: 'k',\n  m: 'm',\n  p: 'p',\n  q: 'q',\n  r: 'r',\n  s: 's',\n  t: 't',\n  v: 'v',\n  w: 'w',\n  x: 'x',\n  z: 'z',\n};\n\nfunction getKanaToHepburnTree() {\n  if (kanaToHepburnMap == null) {\n    kanaToHepburnMap = createKanaToHepburnMap();\n  }\n  return kanaToHepburnMap;\n}\n\nexport function getKanaToRomajiTree(romanization) {\n  switch (romanization) {\n    case ROMANIZATIONS.HEPBURN:\n      return getKanaToHepburnTree();\n    default:\n      return {};\n  }\n}\n\nfunction createKanaToHepburnMap() {\n  const romajiTree = transform(BASIC_ROMAJI);\n\n  const subtreeOf = (string) => getSubTreeOf(romajiTree, string);\n  const setTrans = (string, transliteration) => {\n    subtreeOf(string)[''] = transliteration;\n  };\n\n  Object.entries(SPECIAL_SYMBOLS).forEach(([jsymbol, symbol]) => {\n    subtreeOf(jsymbol)[''] = symbol;\n  });\n\n  [...Object.entries(SMALL_Y), ...Object.entries(SMALL_AIUEO)].forEach(\n    ([roma, kana]) => {\n      setTrans(roma, kana);\n    }\n  );\n\n  // „Åç„ÇÉ -> kya\n  YOON_KANA.forEach((kana) => {\n    const firstRomajiChar = subtreeOf(kana)[''][0];\n    Object.entries(SMALL_Y).forEach(([yKana, yRoma]) => {\n      setTrans(kana + yKana, firstRomajiChar + yRoma);\n    });\n    // „Åç„ÅÉ -> kyi\n    Object.entries(SMALL_Y_EXTRA).forEach(([yKana, yRoma]) => {\n      setTrans(kana + yKana, firstRomajiChar + yRoma);\n    });\n  });\n\n  Object.entries(YOON_EXCEPTIONS).forEach(([kana, roma]) => {\n    // „Åò„ÇÉ -> ja\n    Object.entries(SMALL_Y).forEach(([yKana, yRoma]) => {\n      setTrans(kana + yKana, roma + yRoma[1]);\n    });\n    // „Åò„ÅÉ -> jyi, „Åò„Åá -> je\n    setTrans(`${kana}„ÅÉ`, `${roma}yi`);\n    setTrans(`${kana}„Åá`, `${roma}e`);\n  });\n\n  romajiTree['„Å£'] = resolveTsu(romajiTree);\n\n  Object.entries(SMALL_KANA).forEach(([kana, roma]) => {\n    setTrans(kana, roma);\n  });\n\n  AMBIGUOUS_VOWELS.forEach((kana) => {\n    setTrans(`„Çì${kana}`, `n'${subtreeOf(kana)['']}`);\n  });\n\n  // NOTE: could be re-enabled with an option?\n  // // „Çì„Å∞ -> mbo\n  // const LABIAL = [\n  //   '„Å∞', '„Å≥', '„Å∂', '„Åπ', '„Åº',\n  //   '„Å±', '„Å¥', '„Å∑', '„Å∫', '„ÅΩ',\n  //   '„Åæ', '„Åø', '„ÇÄ', '„ÇÅ', '„ÇÇ',\n  // ];\n  // LABIAL.forEach((kana) => {\n  //   setTrans(`„Çì${kana}`, `m${subtreeOf(kana)['']}`);\n  // });\n\n  return Object.freeze(JSON.parse(JSON.stringify(romajiTree)));\n}\n\nfunction resolveTsu(tree) {\n  return Object.entries(tree).reduce((tsuTree, [key, value]) => {\n    if (!key) {\n      // we have reached the bottom of this branch\n      const consonant = value.charAt(0);\n      // eslint-disable-next-line no-param-reassign\n      tsuTree[key] = Object.keys(SOKUON_WHITELIST).includes(consonant)\n        ? SOKUON_WHITELIST[consonant] + value\n        : value;\n    } else {\n      // more subtrees\n      // eslint-disable-next-line no-param-reassign\n      tsuTree[key] = resolveTsu(value);\n    }\n    return tsuTree;\n  }, {});\n}\n","import memoizeOne from 'memoize-one';\nimport { dequal } from 'dequal';\n\nimport mergeWithDefaultOptions from './utils/mergeWithDefaultOptions';\nimport katakanaToHiragana from './utils/katakanaToHiragana';\nimport isKatakana from './isKatakana';\nimport { getKanaToRomajiTree } from './utils/kanaToRomajiMap';\nimport { applyMapping, mergeCustomMapping } from './utils/kanaMapping';\n\n// memoize and deeply compare args so we only recreate when necessary\nexport const createKanaToRomajiMap = memoizeOne(\n  (romanization, customRomajiMapping) => {\n    let map = getKanaToRomajiTree(romanization);\n\n    if (customRomajiMapping) {\n      map = mergeCustomMapping(map, customRomajiMapping);\n    }\n\n    return map;\n  },\n  dequal\n);\n\n/**\n * Convert kana to romaji\n * @param  {String} kana text input\n * @param  {DefaultOptions} [options=defaultOptions]\n * @param  {Object.<string, string>} [map] custom mapping\n * @return {String} converted text\n * @example\n * toRomaji('„Å≤„Çâ„Åå„Å™„ÄÄ„Ç´„Çø„Ç´„Éä')\n * // => 'hiragana katakana'\n * toRomaji('„Åí„Éº„ÇÄ„ÄÄ„Ç≤„Éº„É†')\n * // => 'ge-mu geemu'\n * toRomaji('„Å≤„Çâ„Åå„Å™„ÄÄ„Ç´„Çø„Ç´„Éä', { upcaseKatakana: true })\n * // => 'hiragana KATAKANA'\n * toRomaji('„Å§„Åò„Åé„Çä', { customRomajiMapping: { „Åò: 'zi', „Å§: 'tu', „Çä: 'li' } });\n * // => 'tuzigili'\n */\nexport function toRomaji(input = '', options = {}, map) {\n  const config = mergeWithDefaultOptions(options);\n\n  if (!map) {\n    map = createKanaToRomajiMap(\n      config.romanization,\n      config.customRomajiMapping\n    );\n  }\n\n  // just throw away the substring index information and simply concatenate all the kana\n  return splitIntoRomaji(input, config, map)\n    .map((romajiToken) => {\n      const [start, end, romaji] = romajiToken;\n      const makeUpperCase = config.upcaseKatakana && isKatakana(input.slice(start, end));\n      return makeUpperCase ? romaji.toUpperCase() : romaji;\n    })\n    .join('');\n}\n\nfunction splitIntoRomaji(input, options, map) {\n  if (!map) {\n    map = createKanaToRomajiMap(\n      options.romanization,\n      options.customRomajiMapping\n    );\n  }\n\n  const config = Object.assign({}, { isDestinationRomaji: true }, options);\n\n  return applyMapping(\n    katakanaToHiragana(input, toRomaji, config),\n    map,\n    !options.IMEMode\n  );\n}\n\nexport default toRomaji;\n","import isEmpty from './isEmpty';\nimport { EN_PUNCTUATION_RANGES } from '../constants.ts';\nimport isCharInRange from './isCharInRange';\n\n/**\n * Tests a character. Returns true if the character is considered English punctuation.\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharEnglishPunctuation(char = '') {\n  if (isEmpty(char)) return false;\n  return EN_PUNCTUATION_RANGES.some(([start, end]) => isCharInRange(char, start, end));\n}\n\nexport default isCharEnglishPunctuation;\n","import mergeWithDefaultOptions from './utils/mergeWithDefaultOptions';\nimport katakanaToHiragana from './utils/katakanaToHiragana';\nimport isCharEnglishPunctuation from './utils/isCharEnglishPunctuation';\nimport isRomaji from './isRomaji';\nimport isMixed from './isMixed';\nimport toKana from './toKana';\nimport toRomaji from './toRomaji';\n\n/**\n * Convert input to [Hiragana](https://en.wikipedia.org/wiki/Hiragana)\n * @param  {String} [input=''] text\n * @param  {DefaultOptions} [options=defaultOptions]\n * @return {String} converted text\n * @example\n * toHiragana('toukyou, „Ç™„Ç™„Çµ„Ç´')\n * // => '„Å®„ÅÜ„Åç„Çá„ÅÜ„ÄÅ„ÄÄ„Åä„Åä„Åï„Åã'\n * toHiragana('only „Ç´„Éä', { passRomaji: true })\n * // => 'only „Åã„Å™'\n * toHiragana('wi')\n * // => '„ÅÜ„ÅÉ'\n * toHiragana('wi', { useObsoleteKana: true })\n * // => '„Çê'\n */\nfunction toHiragana(input = '', options = {}) {\n  const config = mergeWithDefaultOptions(options);\n  if (config.passRomaji) {\n    return katakanaToHiragana(input, toRomaji, config);\n  }\n\n  if (isMixed(input, { passKanji: true })) {\n    const convertedKatakana = katakanaToHiragana(input, toRomaji, config);\n    return toKana(convertedKatakana.toLowerCase(), config);\n  }\n\n  if (isRomaji(input) || isCharEnglishPunctuation(input)) {\n    return toKana(input.toLowerCase(), config);\n  }\n\n  return katakanaToHiragana(input, toRomaji, config);\n}\n\nexport default toHiragana;\n","import mergeWithDefaultOptions from './utils/mergeWithDefaultOptions';\nimport hiraganaToKatakana from './utils/hiraganaToKatakana';\nimport isCharEnglishPunctuation from './utils/isCharEnglishPunctuation';\nimport toKana from './toKana';\nimport isRomaji from './isRomaji';\nimport isMixed from './isMixed';\n\n/**\n * Convert input to [Katakana](https://en.wikipedia.org/wiki/Katakana)\n * @param  {String} [input=''] text\n * @param  {DefaultOptions} [options=defaultOptions]\n * @return {String} converted text\n * @example\n * toKatakana('toukyou, „Åä„Åä„Åï„Åã')\n * // => '„Éà„Ç¶„Ç≠„Éß„Ç¶„ÄÅ„ÄÄ„Ç™„Ç™„Çµ„Ç´'\n * toKatakana('only „Åã„Å™', { passRomaji: true })\n * // => 'only „Ç´„Éä'\n * toKatakana('wi')\n * // => '„Ç¶„Ç£'\n * toKatakana('wi', { useObsoleteKana: true })\n * // => '„É∞'\n */\nfunction toKatakana(input = '', options = {}) {\n  const mergedOptions = mergeWithDefaultOptions(options);\n  if (mergedOptions.passRomaji) {\n    return hiraganaToKatakana(input);\n  }\n\n  if (isMixed(input) || isRomaji(input) || isCharEnglishPunctuation(input)) {\n    const hiragana = toKana(input.toLowerCase(), mergedOptions);\n    return hiraganaToKatakana(hiragana);\n  }\n\n  return hiraganaToKatakana(input);\n}\n\nexport default toKatakana;\n","import isEmpty from './isEmpty';\nimport { JA_PUNCTUATION_RANGES } from '../constants.ts';\nimport isCharInRange from './isCharInRange';\nimport isCharIterationMark from './isCharIterationMark';\n\n/**\n * Tests a character. Returns true if the character is considered Japanese punctuation.\n * @param  {String} char character string to test\n * @return {Boolean}\n */\nfunction isCharJapanesePunctuation(char = '') {\n  if (isEmpty(char) || isCharIterationMark(char)) return false;\n  return JA_PUNCTUATION_RANGES.some(([start, end]) => isCharInRange(char, start, end));\n}\n\nexport default isCharJapanesePunctuation;\n","import isEmpty from './utils/isEmpty';\nimport isCharEnglishPunctuation from './utils/isCharEnglishPunctuation';\nimport isCharJapanesePunctuation from './utils/isCharJapanesePunctuation';\nimport isCharRomaji from './utils/isCharRomaji';\nimport isCharKanji from './utils/isCharKanji';\nimport isCharHiragana from './utils/isCharHiragana';\nimport isCharKatakana from './utils/isCharKatakana';\nimport isCharJapanese from './utils/isCharJapanese';\n\nconst isCharEnSpace = (x) => x === ' ';\nconst isCharJaSpace = (x) => x === '„ÄÄ';\nconst isCharJaNum = (x) => /[Ôºê-Ôºô]/.test(x);\nconst isCharEnNum = (x) => /[0-9]/.test(x);\n\nconst TOKEN_TYPES = {\n  EN: 'en',\n  JA: 'ja',\n  EN_NUM: 'englishNumeral',\n  JA_NUM: 'japaneseNumeral',\n  EN_PUNC: 'englishPunctuation',\n  JA_PUNC: 'japanesePunctuation',\n  KANJI: 'kanji',\n  HIRAGANA: 'hiragana',\n  KATAKANA: 'katakana',\n  SPACE: 'space',\n  OTHER: 'other',\n};\n\n// prettier-ignore\nexport function getType(input, compact = false) {\n  const {\n    EN, JA, EN_NUM, JA_NUM, EN_PUNC, JA_PUNC, KANJI, HIRAGANA, KATAKANA, SPACE, OTHER,\n  } = TOKEN_TYPES;\n\n  if (compact) {\n    switch (true) {\n      case isCharJaNum(input): return OTHER;\n      case isCharEnNum(input): return OTHER;\n      case isCharEnSpace(input): return EN;\n      case isCharEnglishPunctuation(input): return OTHER;\n      case isCharJaSpace(input): return JA;\n      case isCharJapanesePunctuation(input): return OTHER;\n      case isCharJapanese(input): return JA;\n      case isCharRomaji(input): return EN;\n      default: return OTHER;\n    }\n  } else {\n    switch (true) {\n      case isCharJaSpace(input): return SPACE;\n      case isCharEnSpace(input): return SPACE;\n      case isCharJaNum(input): return JA_NUM;\n      case isCharEnNum(input): return EN_NUM;\n      case isCharEnglishPunctuation(input): return EN_PUNC;\n      case isCharJapanesePunctuation(input): return JA_PUNC;\n      case isCharKanji(input): return KANJI;\n      case isCharHiragana(input): return HIRAGANA;\n      case isCharKatakana(input): return KATAKANA;\n      case isCharJapanese(input): return JA;\n      case isCharRomaji(input): return EN;\n      default: return OTHER;\n    }\n  }\n}\n\n/**\n * Splits input into array of strings separated by opinionated token types\n * `'en', 'ja', 'englishNumeral', 'japaneseNumeral','englishPunctuation', 'japanesePunctuation','kanji', 'hiragana', 'katakana', 'space', 'other'`.\n * If `{ compact: true }` then many same-language tokens are combined (spaces + text, kanji + kana, numeral + punctuation).\n * If `{ detailed: true }` then return array will contain `{ type, value }` instead of `'value'`\n * @param  {String} input text\n * @param  {{compact: Boolean | undefined, detailed: Boolean | undefined}} [options={ compact: false, detailed: false}] options to modify output style\n * @return {(String[]|Array.<{type: String, value: String}>)} text split into tokens containing values, or detailed object\n * @example\n * tokenize('„Åµ„Åµ„Éï„Éï')\n * // ['„Åµ„Åµ', '„Éï„Éï']\n *\n * tokenize('ÊÑü„Åò')\n * // ['ÊÑü', '„Åò']\n *\n * tokenize('‰∫∫„ÄÖ')\n * // ['‰∫∫„ÄÖ']\n *\n * tokenize('truly ÁßÅ„ÅØÊÇ≤„Åó„ÅÑ')\n * // ['truly', ' ', 'ÁßÅ', '„ÅØ', 'ÊÇ≤', '„Åó„ÅÑ']\n *\n * tokenize('truly ÁßÅ„ÅØÊÇ≤„Åó„ÅÑ', { compact: true })\n * // ['truly ', 'ÁßÅ„ÅØÊÇ≤„Åó„ÅÑ']\n *\n * tokenize('5romaji here...!?‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„ÉäÔºî„ÄåÔº≥Ôº®Ôº©ÔºØ„Äç„ÄÇÔºÅ')\n * // [ '5', 'romaji', ' ', 'here', '...!?', '‰∫∫„ÄÖÊº¢Â≠ó', '„Å≤„Çâ„Åå„Å™', '„Ç´„Çø', '„ÄÄ', '„Ç´„Éä', 'Ôºî', '„Äå', 'Ôº≥Ôº®Ôº©ÔºØ', '„Äç„ÄÇÔºÅ']\n *\n * tokenize('5romaji here...!?‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„ÉäÔºî„ÄåÔº≥Ôº®Ôº©ÔºØ„Äç„ÄÇÔºÅ', { compact: true })\n * // [ '5', 'romaji here', '...!?', '‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„Éä', 'Ôºî„Äå', 'Ôº≥Ôº®Ôº©ÔºØ', '„Äç„ÄÇÔºÅ']\n *\n * tokenize('5romaji here...!?‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„ÉäÔºî„ÄåÔº≥Ôº®Ôº©ÔºØ„Äç„ÄÇÔºÅ ŸÑŸÜÿ∞Ÿáÿ®', { detailed: true })\n * // [\n *  { type: 'englishNumeral', value: '5' },\n *  { type: 'en', value: 'romaji' },\n *  { type: 'space', value: ' ' },\n *  { type: 'en', value: 'here' },\n *  { type: 'englishPunctuation', value: '...!?' },\n *  { type: 'kanji', value: '‰∫∫„ÄÖÊº¢Â≠ó' },\n *  { type: 'hiragana', value: '„Å≤„Çâ„Åå„Å™' },\n *  { type: 'katakana', value: '„Ç´„Çø' },\n *  { type: 'space', value: '„ÄÄ' },\n *  { type: 'katakana', value: '„Ç´„Éä' },\n *  { type: 'japaneseNumeral', value: 'Ôºî' },\n *  { type: 'japanesePunctuation', value: '„Äå' },\n *  { type: 'ja', value: 'Ôº≥Ôº®Ôº©ÔºØ' },\n *  { type: 'japanesePunctuation', value: '„Äç„ÄÇÔºÅ' },\n *  { type: 'space', value: ' ' },\n *  { type: 'other', value: 'ŸÑŸÜÿ∞Ÿáÿ®' },\n * ]\n *\n * tokenize('5romaji here...!?‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„ÉäÔºî„ÄåÔº≥Ôº®Ôº©ÔºØ„Äç„ÄÇÔºÅ ŸÑŸÜÿ∞Ÿáÿ®', { compact: true, detailed: true})\n * // [\n *  { type: 'other', value: '5' },\n *  { type: 'en', value: 'romaji here' },\n *  { type: 'other', value: '...!?' },\n *  { type: 'ja', value: '‰∫∫„ÄÖÊº¢Â≠ó„Å≤„Çâ„Åå„Å™„Ç´„Çø„ÄÄ„Ç´„Éä' },\n *  { type: 'other', value: 'Ôºî„Äå' },\n *  { type: 'ja', value: 'Ôº≥Ôº®Ôº©ÔºØ' },\n *  { type: 'other', value: '„Äç„ÄÇÔºÅ' },\n *  { type: 'en', value: ' ' },\n *  { type: 'other', value: 'ŸÑŸÜÿ∞Ÿáÿ®' },\n *]\n */\nfunction tokenize(input, { compact = false, detailed = false } = {}) {\n  if (input == null || isEmpty(input)) {\n    return [];\n  }\n  const chars = [...input];\n  let initial = chars.shift();\n  let prevType = getType(initial, compact);\n  initial = detailed ? { type: prevType, value: initial } : initial;\n\n  const result = chars.reduce(\n    (tokens, char) => {\n      const currType = getType(char, compact);\n      const sameType = currType === prevType;\n      prevType = currType;\n      let newValue = char;\n\n      if (sameType) {\n        newValue = (detailed ? tokens.pop().value : tokens.pop()) + newValue;\n      }\n\n      return detailed\n        ? tokens.concat({ type: currType, value: newValue })\n        : tokens.concat(newValue);\n    },\n    [initial]\n  );\n  return result;\n}\n\nexport default tokenize;\n","import isJapanese from './isJapanese';\nimport isKana from './isKana';\nimport isKanji from './isKanji';\nimport tokenize from './tokenize';\n\nconst isLeadingWithoutInitialKana = (input, leading) => leading && !isKana(input[0]);\nconst isTrailingWithoutFinalKana = (input, leading) => !leading && !isKana(input[input.length - 1]);\nconst isInvalidMatcher = (input, matchKanji) =>\n  (matchKanji && ![...matchKanji].some(isKanji)) || (!matchKanji && isKana(input));\n\n/**\n * Strips [Okurigana](https://en.wikipedia.org/wiki/Okurigana)\n * @param  {String} input text\n * @param  {{ leading: Boolean | undefined, matchKanji: string | undefined }} [options={ leading: false, matchKanji: '' }] optional config\n * @return {String} text with okurigana removed\n * @example\n * stripOkurigana('Ë∏è„ÅøËæº„ÇÄ')\n * // => 'Ë∏è„ÅøËæº'\n * stripOkurigana('„ÅäÁ•ù„ÅÑ')\n * // => '„ÅäÁ•ù'\n * stripOkurigana('„ÅäËÖπ', { leading: true });\n * // => 'ËÖπ'\n * stripOkurigana('„Åµ„Åø„Åì„ÇÄ', { matchKanji: 'Ë∏è„ÅøËæº„ÇÄ' });\n * // => '„Åµ„Åø„Åì'\n * stripOkurigana('„Åä„Åø„Åæ„ÅÑ', { matchKanji: '„ÅäÁ•ù„ÅÑ', leading: true });\n * // => '„Åø„Åæ„ÅÑ'\n */\nfunction stripOkurigana(input = '', { leading = false, matchKanji = '' } = {}) {\n  if (\n    !isJapanese(input) ||\n    isLeadingWithoutInitialKana(input, leading) ||\n    isTrailingWithoutFinalKana(input, leading) ||\n    isInvalidMatcher(input, matchKanji)\n  ) {\n    return input;\n  }\n\n  const chars = matchKanji || input;\n  const okuriganaRegex = new RegExp(\n    leading ? `^${tokenize(chars).shift()}` : `${tokenize(chars).pop()}$`\n  );\n  return input.replace(okuriganaRegex, '');\n}\n\nexport default stripOkurigana;\n"],"names":["SPECIAL_SYMBOLS","SMALL_Y","createRomajiToKanaMap"],"mappings":"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AAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;AAC9C,IAAA,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE;IAC7B,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;AAC9C,IAAA,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IACtC,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,GAAG;IAC9C,CAAC,EAAE,EAAE,CAAC,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","x_google_ignoreList":[6,7]}